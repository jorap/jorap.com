<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Manager</title>
    <meta name="robots" content="noindex" />
</head>

<body>
    <div id="nc-root"></div>

    <script>
        // Add comprehensive error handling
        window.addEventListener('error', function(e) {
            console.error('Global error caught:', e.error);
            console.error('Error message:', e.message);
            console.error('Error stack:', e.error ? e.error.stack : 'No stack available');
        });

        // Load CMS with error handling
        const script = document.createElement('script');
        script.src = 'https://unpkg.com/netlify-cms@^2.10.0/dist/netlify-cms.js';
        script.onload = function() {
            console.log('CMS script loaded successfully');

            // Try to initialize with error handling
            try {
                if (window.CMS) {
                    console.log('CMS object available, initializing...');
                    window.CMS.init();
                    console.log('CMS initialized successfully');
                } else {
                    console.error('CMS object not available');
                }
            } catch (error) {
                console.error('Error during CMS initialization:', error);
                console.error('Error stack:', error.stack);
            }
        };
        script.onerror = function() {
            console.error('Failed to load CMS script');
        };
        document.head.appendChild(script);
    </script>
</body>

</html>